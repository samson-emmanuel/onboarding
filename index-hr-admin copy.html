<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">
    <nav class="bg-gray-800 text-white">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <a href="#" class="font-bold text-xl">Onboarding</a>
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <a href="admin/user-registration.html" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700">Manage Users</a>
                            <a href="admin/uploads.html" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700">Uploads</a>
                            <a href="all-contacts.html" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700">Contacts Management</a>
                            <a href="onboarding-plan.html" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700">Edit Onboarding Plan</a>
                            <a href="#" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700">Generate Reports</a>
                        </div>
                    </div>
                </div>
                <div>
                    <button onclick="logout()" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <header class="bg-gradient-to-r from-blue-500 to-blue-600 shadow">
        <div class="container mx-auto px-4 py-6">
            <div id="welcome" class="text-white"></div>
        </div>
    </header>

    <main>
        <div class="container mx-auto px-4 py-6">
            <!-- Main content goes here -->
             <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-lg shadow-md transition-transform duration-300 transform hover:-translate-y-1 hover:shadow-lg">
                    <h2 class="text-xl font-bold mb-2 text-blue-600">Manage Users</h2>
                    <p class="text-gray-700 mb-4">Add, remove, or edit user accounts.</p>
                    <a href="admin/user-registration.html" class="text-blue-500 hover:underline">Go to User Management</a>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md transition-transform duration-300 transform hover:-translate-y-1 hover:shadow-lg">
                    <h2 class="text-xl font-bold mb-2 text-blue-600">Uploads</h2>
                    <p class="text-gray-700 mb-4">Upload or change images and documents.</p>
                    <a href="admin/uploads.html" class="text-blue-500 hover:underline">Go to Uploads</a>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md transition-transform duration-300 transform hover:-translate-y-1 hover:shadow-lg">
                    <h2 class="text-xl font-bold mb-2 text-blue-600">Contacts Management</h2>
                    <p class="text-gray-700 mb-4">Edit the list of all contacts.</p>
                    <a href="all-contacts.html" class="text-blue-500 hover:underline">Go to Contacts</a>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md transition-transform duration-300 transform hover:-translate-y-1 hover:shadow-lg">
                    <h2 class="text-xl font-bold mb-2 text-blue-600">Edit Onboarding Plan</h2>
                    <p class="text-gray-700 mb-4">Update the onboarding plan documents.</p>
                    <a href="onboarding-plan.html" class="text-blue-500 hover:underline">Go to Onboarding Plan</a>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md transition-transform duration-300 transform hover:-translate-y-1 hover:shadow-lg">
                    <h2 class="text-xl font-bold mb-2 text-blue-600">Generate Reports</h2>
                    <p class="text-gray-700 mb-4">Create and view reports on onboarding progress.</p>
                    <a href="#" class="text-blue-500 hover:underline">Go to Reports</a>
                </div>
            </div>
        </div>
    </main>

    <script>
        let user;
        let userStr = localStorage.getItem('user');

        if (!userStr) {
            const urlParams = new URLSearchParams(window.location.search);
            userStr = urlParams.get('user');
            if (userStr) {
                try {
                    user = JSON.parse(decodeURIComponent(userStr));
                    localStorage.setItem('user', JSON.stringify(user)); // Save to localStorage
                } catch (e) {
                    console.error("Error parsing user data from URL", e);
                    window.location.href = 'login.html';
                }
            } else {
                window.location.href = 'login.html';
            }
        } else {
            try {
                user = JSON.parse(userStr);
            } catch (e) {
                console.error("Error parsing user data from localStorage", e);
                localStorage.removeItem('user');
                window.location.href = 'login.html';
            }
        }

        if (!user || user.role !== 'Hr_Admin') {
            window.location.href = 'login.html';
        } else {
            document.getElementById('welcome').innerHTML = `<h1 class="text-3xl font-bold">Welcome, ${user.firstName} ${user.lastName}!</h1><p>You are logged in as HR Admin. Manage onboarding resources and users.</p>`;
        }

        function logout() {
            localStorage.clear();
            window.location.href = 'login.html';
        }
    </script>
</body>
</html>